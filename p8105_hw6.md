p8105_hw6
================
Yiying Chen yc4776
2025-12-02

``` r
library(tidyverse)
homicide_data = read.csv("data/homicide-data.csv")

homicide_data_clean = homicide_data |>
  mutate(city_state = paste(city, state, sep = ", "),
         binary_open = case_when(
      disposition == "Open/No arrest"  ~ 0,
      disposition != "Open/No arrest" ~ 1),
      victim_age = as.numeric(victim_age)) |>
  filter(!city_state %in% c("Dallas, TX", "Phoenix, AZ", "Kansas City, MO", "Tulsa, AL"))|>
  filter(victim_race %in% c("White","Black"))
```

``` r
library(broom)

baltimore_data = homicide_data_clean |>
  filter(city_state == "Baltimore, MD")

set.seed(123)
baltimore_fit = glm(
    binary_open ~ victim_age + victim_sex + victim_race,
    data   = baltimore_data
  )

baltimore_tidy = 
  tidy(
    baltimore_fit,
    exponentiate = TRUE,  
    conf.int     = TRUE  
  )

baltimore_tidy = 
  baltimore_tidy |>
  select(term, estimate, conf.low, conf.high)

baltimore_tidy
```

    ## # A tibble: 4 Ã— 4
    ##   term             estimate conf.low conf.high
    ##   <chr>               <dbl>    <dbl>     <dbl>
    ## 1 (Intercept)         1.92     1.78      2.08 
    ## 2 victim_age          0.999    0.997     1.00 
    ## 3 victim_sexMale      0.781    0.733     0.833
    ## 4 victim_raceWhite    1.23     1.14      1.34
